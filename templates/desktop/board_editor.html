<%inherit file="base.html" />
<% import user
import posixpath
def get_userid(uid):
    u = user.get_user(uid)[1]
    return '%s' % u.uId
%>
<form name="write_form" method="post" action="/${board_path}/+${action}">
<div>
    <div class="heading">기본 정보</div>
    <div id="row">
        <div class="left-container">위치</div>
        <span class="sep">:</span>
        <span>
        % if action == 'modify':
            <input name="path" type="text" value="${posixpath.dirname(board_info.bName)}" />
        %elif action == 'create_board':
            ${board_info.bName}
        % endif
        </span>
    </div>
<!-- 게시판 이름 -->
    <div id="row">
        <div class="left-container">이름</div>
        <span class="sep">:</span>
        <span>
        % if action == 'modify':
            <input name="name" type="text" maxlength="255" style="width:300px" value="${posixpath.basename(board_info.bName)}" />
        %elif action == 'create_board':
            <input name="name" type="text" maxlength="255" style="width:300px" />
        % endif
        </span>
    </div>
    <!-- 관리자 -->
    <div id="row"> 
        <div class="left-container">관리자</div>
        <span class="sep">:</span>
        <span>
            <input name="owner" type="text" size="12" value="${get_userid(board_info.uSerial)}">
        </span>
    </div>

    <div class="heading">세부 설정</div>
    <!-- 타입 -->
    <div id="row">
        <div class="left-container">유형</div>
        <span class="sep">:</span>
        <span>
% if action == 'modify':
        <input id="radio_dir" type="radio" name="type" onclick="dirclick()" value="0" \
        % if board_info.bType == 0:
checked="checked" \
        %endif 
        />
% elif action == 'create_board':
        <input id="radio_dir" type="radio" name="type" onclick="dirclick()" value="0">
% endif
        <label for="radio_dir">폴더</label>
% if action == 'modify':
        <input id="radio_board" type="radio" name="type" onclick="boardclick()" value="1" \
        % if board_info.bType == 1:
checked="checked" \
        %endif 
        />
% elif action == 'create_board':
        <input id="radio_board" type="radio" name="type" onclick="boardclick()" value="1" checked="checked">
% endif
        <label for="radio_board">게시판</label>
        </span>
    </div>

    <!-- 커멘트 여부 -->
    <div id="row">
        <div class="left-container">커멘트</div>
        <span class="sep">:</span>
        <span>
% if action == 'modify':
        <input id="radio_comyes" type="radio" name="commentable" value="yes" \
        % if board_info.bComment == 1:
checked="checked" \
        %endif 
        />
% elif action == 'create_board':
        <input id="radio_comyes" type="radio" name="commentable" value="yes" checked="checked" />
% endif
        <label for="radio_comyes">허용</label>
% if action == 'modify':
        <input id="radio_comno" type="radio" name="commentable" value="no" \
        % if board_info.bComment == 0:
checked="checked" \
        %endif 
        />
% elif action == 'create_board':
        <input id="radio_comno" type="radio" name="commentable" value="no" />
% endif
        <label for="radio_comno">불가</label>
        </span>
    </div>

    <!-- 글쓰기 여부 -->
    <div id="row">
        <div class="left-container">타인 글쓰기</div>
        <span class="sep">:</span>
        <span>
% if action == 'modify':
<input id="radio_comyes" type="radio" name="writable" value="yes" \
% if board_info.bWrite == 1:
checked="checked" \
%endif 
/>
% elif action == 'create_board':
        <input id="radio_comyes" type="radio" name="writable" value="yes" checked="checked" />
% endif
        <label for="radio_comyes">허용</label>
% if action == 'modify':
<input id="radio_comno" type="radio" name="writable" value="no" \
% if board_info.bWrite == 0:
checked="checked" \
%endif 
/>
% elif action == 'create_board':
        <input id="radio_comno" type="radio" name="writable" value="no" />
% endif
        <label for="radio_comno">불가</label>
        </span>
    </div>

    <div class="heading">게시판 설명</div>
    <!-- 한줄 설명 -->
    <div id="row">
        <div class="left-container">한줄 설명</div>
        <span class="sep">:</span>
        <span><input name="description" type="text" maxlength="255" style="width:300px"
% if action == 'modify':
value="${board_info.bDescription}" /> \
% else:
/> \
% endif
</span>
    </div>

    <!-- 한바닥 설명 -->
    <div id="row">
        <div class="left-container">한 바닥 설명</div>
        <span class="sep">:</span>
        <textarea name="information" style="font-size: 0.9em; width: 500px; height: 360px">
% if action == 'modify':
${board_info.bInformation}
% endif
        </textarea>
        </div>
    </div>

    <!-- 완료/취소 버튼 -->			
    <span style="align:right;">
    <input type="submit" name="ok" value="완료">
    <input type="submit" name="cancel" value="취소">
    <input type="hidden" name="referer" value="${referer}">
    </span>

<div style="height: 10px"></div>
</form>
