<%! scripts = ['/static/scripts/jquery-1.4.2.min.js'] 
import user as U
from i18n import custom_gettext as _
from web import ctx %><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
   "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
%if lang is UNDEFINED:
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko">
% else:
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">
% endif
<head>
% if title is UNDEFINED:
    <title>${_('Error')}</title>
% else:
    <title>${title}</title>
% endif
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="/static/style/default.css">
    <link rel="stylesheet" type="text/css" href="/static/style/code.css">
% if board_path is not UNDEFINED:
% if feed is not UNDEFINED:
    <link rel="alternate" type="application/rss+xml" href="/${board_path}/+rss" title="RSS 피드 (/${board_path})" />
    <link rel="alternate" type="application/atom+xml" href="/${board_path}/+atom" title="Atom 피드 (/${board_path})" />
% endif
% endif
%if feeds is not UNDEFINED:
%for f in feeds:
    <link rel="alternate" type="application/${f['type']}+xml" href="${f['path']}" title="${f['name']}" />
% endfor
% endif
${self.head_scripts()}
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-368496-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script type="text/javascript"> 
var $buoop = {} 
$buoop.ol = window.onload; 
window.onload=function(){ 
 if ($buoop.ol) $buoop.ol(); 
 var e = document.createElement("script"); 
 e.setAttribute("type", "text/javascript"); 
 e.setAttribute("src", "http://browser-update.org/update.js"); 
 document.body.appendChild(e); 
} 
</script>
</head>

<body>
<div class="area">
    <!-- 헤더프레임 -->
    <div id="header">
        <%include file="header.html" />
    </div>

    <!-- 사이드바 -->
    <div id="sidemenuOut">
        <div id="sidemenu">
        <%include file="sidebar.html" />
        </div>
    </div>

    <div id="body">
        <div class="area"> \
${next.body()}
        </div> <!-- end of area -->
    </div> <!-- end of body -->

    <!-- footer frame -->
    <!-- IE에서 float으로만 이루어진 내용을 clear하면 layout이 이상해지는 관계로 땜질 -->
    <div style="clear: both; font-size: 1px">&nbsp;</div>
    <div id="footer">
        <%include file="footer.html" />
    </div>
	
</div> <!-- end of area -->
</body>
</html>
<%def name="head_scripts()">
<% 
    all_scripts = []
    t = self
    while t:
      all_scripts = getattr(t.module, 'scripts', []) + all_scripts
      t = t.inherits
%>
% for script in all_scripts:
    <script src="${script}" type="text/javascript"></script>
% endfor
</%def>
