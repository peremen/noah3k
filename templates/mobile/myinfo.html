<% import user as user_ 
import util
from web import ctx %>
<%inherit file="base.html" />
<h3>내 정보</h3>
<h4>개인 정보</h4>
<ul class="list2">
    <li>ID: ${user.uId}</li>
    <li>별명: \
%if user.uNick is UNDEFINED:
<span style='color: #aaaaaa'>없음</span> \
%elif user.uNick.strip() == '':
<span style='color: #aaaaaa'>없음</span> \
% else:
${user.uNick} \
% endif
    </li>
    <li>이메일 주소: \
%if user.uEmail is UNDEFINED:
<span style='color: #aaaaaa'>없음</span>
%elif user.uEmail.strip() == '':
<span style='color: #aaaaaa'>없음</span>
% else:
<span>${user.uEmail}</span> \
% endif
    </li>
    <li>홈페이지 주소: \
%if user.uHomepage is UNDEFINED:
<span style="text-color: #aaaaaa">없음</span> \
% elif user.uHomepage.strip() == '':
<span style="text-color: #aaaaaa">없음</span> \
%else:
<span>${user.uHomepage}</span> \
% endif
    </li>
    <li>시그<br />
<div style="border: solid 1px lightgray;">
%if user.uSig is UNDEFINED:
<span style="font-size: 0.9em; color: #aaaaaa">없음</span>
%elif user.uSig.strip() == '':
<span style="font-size: 0.9em; color: #aaaaaa">없음</span>
% else:
<span style="font-size: 0.9em">${util.format(user.uSig)}</span>
% endif
</div>
    </li>
    <li>자기소개<br />
<div style="border: solid 1px lightgray;">
%if user.uPlan is UNDEFINED:
<span style="font-size: 0.9em; color: #aaaaaa">없음</span>
%elif user.uPlan.strip() == '':
<span style="font-size: 0.9em; color: #aaaaaa">없음</span>
% else:
<span style="font-size: 0.9em">${user.uPlan}</span>
% endif
</div>
    </li>
</ul>

<h4>접속 정보</h4>
<ul class="list2">
    <li>가입한 시간: ${user.uDatetime}</li>
    <li>로그인 수: ${user.uNumLogin}</li>
    <li>쓴 글 수: ${user_.get_post_count(user_id)}</li>
    <li>남긴 댓글 수: ${user_.get_comment_count(user_id)}</li>
% if ctx.session is not UNDEFINED and ctx.session.has_key('uid'):
    % if ctx.session.uid == 1 or ctx.session.uid == user_id:
    <li>마지막 로그인:  \
        %if user.uLastLogin is UNDEFINED:
<span style='color: #aa0000'>알 수 없음</span> \
        % else:
<span>${user.uLastLogin}</span> \
        % endif
    </li>
    <li>마지막 접속 장소: \
        %if user.uLastHost is UNDEFINED:
<span style='color: #aa0000'>알 수 없음</span> \
        %elif user.uLastHost.strip() == '':
<span style='color: #aa0000'>알 수 없음</span> \
        % else:
<span>${user.uLastHost}</span> \
        % endif
    </li>
    % endif
% endif
</ul>
<br />
##%if ctx.session.username == username:
##    <a href="/m/+u/${username}/+my_posts">내가 쓴 글</a>
##%else:
##    <a href="/m/+u/${username}/+my_posts">이 사용자가 쓴 글</a>
##% endif
%if ctx.session.username == username:
<a class="button" href="/m/+u/${username}/+modify">수정</a>
<a class="button" href="/m/+u/${username}/+leave">회원 탈퇴</a>
% endif
